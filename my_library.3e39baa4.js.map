{"mappings":"oeAAAA,EAAA,SCEO,MAAMC,EAAc,KACzBC,EAAKC,QAAQC,UAAY,IAGdC,EAAmBC,IAC9B,MAAMC,EAAmBD,EACtBE,KACC,EAACC,OACCA,EAAMC,YACNA,EAAWC,aACXA,EAAYC,eACZA,EAAcC,aACdA,EAAYC,GACZA,MAEA,IAAIC,EAAQN,EAAOO,KAAK,MAIxB,OAHIP,EAAOQ,OAAS,IAClBF,EAAQN,EAAO,GAAK,KAAOA,EAAO,GAA1BA,WAEH,oKAKMC,0BACAE,mEAEQE,yHAKOF,gDACIG,OAAWJ,4DAI5C,IAGFK,KAAK,IAERd,EAAKC,QAAQe,mBAAmB,YAAaX,EAAA,ECxClCL,EAAO,CAClBiB,WAAYC,SAASC,cAAc,oBACnCC,SAAUF,SAASC,cAAc,kBACjCE,YAAaH,SAASC,cAAc,yBACpClB,QAASiB,SAASC,cAAc,0BAIlC,IAAIG,ECVG,WACL,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,WAGzC,CAFE,MAAOC,GACPC,SAASC,OAAOC,QAAQH,EAAII,QAC9B,CACF,CDIc,GACVC,ECHG,WACL,IACE,OAAOT,KAAKC,MAAMC,aAAaC,QAAQ,SAGzC,CAFE,MAAOC,GACPC,SAASC,OAAOC,QAAQH,EAAII,QAC9B,CACF,CDHY,GAEZ,MAAME,EAAmB,KACvBjC,EAAKoB,SAASc,UAAUC,OAAO,sBAC/BnC,EAAKiB,WAAWiB,UAAUE,IAAI,sBAEd,OAAZd,GAAuC,IAAnBA,EAAQP,SAG9BhB,IACAuB,EAAQhB,KAAI+B,GAAMlC,EAAiB,CAACkC,MACpCrC,EAAKqB,YAAYa,UAAUE,IAAI,aACjC,EAiBFH,IAEAjC,EAAKiB,WAAWqB,iBAAiB,QAASL,GAC1CjC,EAAKoB,SAASkB,iBAAiB,SAjBR,KACrBtC,EAAKoB,SAASc,UAAUE,IAAI,sBAC5BpC,EAAKiB,WAAWiB,UAAUC,OAAO,sBAEnB,OAAVH,GAAmC,IAAjBA,EAAMjB,SAG1BhB,IACAiC,EAAM1B,KAAI+B,GAAMlC,EAAiB,CAACkC,MAClCrC,EAAKqB,YAAYa,UAAUE,IAAI,aACjC,I","sources":["src/library.js","src/js/render-cards.js","src/js/my-library.js","src/js/get-data-from-localstorage.js"],"sourcesContent":["import './js/scroll';\n\nimport './js/my-library';\n\nimport './js/get-data-from-localstorage';\n\nimport './js/render-cards';\n\nimport './js/teamModal';\n\nimport './js/modal-window';\n","import { refs } from './my-library';\n\nexport const clearMarkup = () => {\n  refs.gallery.innerHTML = '';\n};\n\nexport const renderMoviesList = moviesArray => {\n  const markupMoviesList = moviesArray\n    .map(\n      ({\n        genres,\n        poster_path,\n        release_date,\n        original_title,\n        vote_average,\n        id,\n      }) => {\n        let genre = genres.join(', ');\n        if (genres.length > 2) {\n          genre = genres[0] + ', ' + genres[1] + ', ' + 'Other';\n        }\n        return `\n      <li class=\"film my-library-film\">\n        <a href=\"#\" class=\"film__link\">\n          <div class=\"film__body-img\">\n            <img\n              src=\"${poster_path}\"\n              alt=\"${original_title}\"\n              class=\"film__img\"\n              data-action=\"${id}\"\n            />\n          </div>\n\n          <div class=\"film__informations\">\n            <p class=\"film__name\">${original_title}</p>\n            <p class=\"film__detalies\">${genre} | ${release_date}</p>\n          </div>\n        </a>\n      </li>\n      `;\n      }\n    )\n    .join('');\n\n  refs.gallery.insertAdjacentHTML('beforeend', markupMoviesList);\n};\n","import { getWatchedFilms, getQueueFilms } from './get-data-from-localstorage';\nimport { renderMoviesList, clearMarkup } from './render-cards';\n\n// Refs\nexport const refs = {\n  btnWatched: document.querySelector('[name=\"watched\"]'),\n  btnQueue: document.querySelector('[name=\"queue\"]'),\n  defaultText: document.querySelector('[name=\"default-text\"]'),\n  gallery: document.querySelector('.my-library-film-card'),\n};\n\n// render\nlet watched = getWatchedFilms();\nlet queue = getQueueFilms();\n\nconst loadWatchedFilms = () => {\n  refs.btnQueue.classList.remove('btn-header__active');\n  refs.btnWatched.classList.add('btn-header__active');\n\n  if (watched === null || watched.length === 0) {\n    return;\n  } else {\n    clearMarkup();\n    watched.map(el => renderMoviesList([el]));\n    refs.defaultText.classList.add('is-hidden');\n  }\n};\n\nconst loadQueueFilms = () => {\n  refs.btnQueue.classList.add('btn-header__active');\n  refs.btnWatched.classList.remove('btn-header__active');\n\n  if (queue === null || queue.length === 0) {\n    return;\n  } else {\n    clearMarkup();\n    queue.map(el => renderMoviesList([el]));\n    refs.defaultText.classList.add('is-hidden');\n  }\n};\n\n// Render wathed films after loading page\nloadWatchedFilms();\n// Event listener\nrefs.btnWatched.addEventListener('click', loadWatchedFilms);\nrefs.btnQueue.addEventListener('click', loadQueueFilms);\n","// get database from localstorage and render\n\nexport function getWatchedFilms() {\n  try {\n    return JSON.parse(localStorage.getItem('watched'));\n  } catch (err) {\n    Notiflix.Notify.failure(err.message);\n  }\n}\n\nexport function getQueueFilms() {\n  try {\n    return JSON.parse(localStorage.getItem('queue'));\n  } catch (err) {\n    Notiflix.Notify.failure(err.message);\n  }\n}\n"],"names":["parcelRequire","$13315e1086e5db7e$export$d1927cf3bc385580","$085d2f9f3e302aeb$export$21666b427502ea6d","gallery","innerHTML","$13315e1086e5db7e$export$322a725b9435eb51","moviesArray","markupMoviesList","map","genres","poster_path","release_date","original_title","vote_average","id","genre","join","length","insertAdjacentHTML","btnWatched","document","querySelector","btnQueue","defaultText","$085d2f9f3e302aeb$var$watched","JSON","parse","localStorage","getItem","err","Notiflix","Notify","failure","message","$085d2f9f3e302aeb$var$queue","$085d2f9f3e302aeb$var$loadWatchedFilms","classList","remove","add","el","addEventListener"],"version":3,"file":"my_library.3e39baa4.js.map"}